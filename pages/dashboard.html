<div class="dashboard">
    <div class="main-content">
        <div class="sidebar-left">
            <div class="card">
                <h3><i class="fas fa-sitemap"></i> ç³»ç»Ÿå¯¼èˆª</h3>
                <ul class="component-list">
                    <li data-url="/cpp"><i class="fas fa-book"></i> C++ çŸ¥è¯†ç‚¹</li>
                    <li data-url="/algorithms"><i class="fas fa-cogs"></i> ç®—æ³•åº“</li>
                    <li data-url="/editor"><i class="fas fa-code"></i> ä»£ç ç¼–è¾‘å™¨</li>
                    <li data-url="/analysis"><i class="fas fa-chart-line"></i> å­¦ä¹ åˆ†æ</li>
                </ul>
            </div>

            <div class="card">
                <h3><i class="fas fa-book"></i> C++ çŸ¥è¯†ç‚¹</h3>
                <div class="cpp-chapter-list">
                    <div class="chapter-item" data-chapter="1">ç¬¬ 1 ç«  é¢„å¤‡çŸ¥è¯†</div>
                    <div class="chapter-item" data-chapter="2">ç¬¬ 2 ç«  å¼€å§‹å­¦ä¹  C++</div>
                    <div class="chapter-item" data-chapter="3">ç¬¬ 3 ç«  å¤„ç†æ•°æ®</div>
                    <!-- æ›´å¤šç« èŠ‚... -->
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-cogs"></i> ç®—æ³•åº“</h3>
                <div class="algorithm-grid">
                    <div class="algorithm-item" data-algo="DFS">DFS</div>
                    <div class="algorithm-item" data-algo="BFS">BFS</div>
                    <div class="algorithm-item" data-algo="DP">åŠ¨æ€è§„åˆ’</div>
                    <!-- æ›´å¤šç®—æ³•... -->
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-chart-line"></i> å­¦ä¹ è¿›åº¦</h3>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="overall-progress" style="width: 30%;"></div>
                    </div>
                    <div class="progress-text">æ€»ä½“è¿›åº¦: 30%</div>
                    <!-- æ›´å¤šè¿›åº¦æ¡... -->
                </div>
            </div>
        </div>

        <div class="visualization-area">
            <h2>ç³»ç»Ÿæµç¨‹å›¾</h2>
            <div id="cy"></div>

            <div class="tab-container">
                <div class="tabs">
                    <div class="tab active" data-tab="guide">ä½¿ç”¨æŒ‡å—</div>
                    <div class="tab" data-tab="mindmap">æ€ç»´å¯¼å›¾</div>
                    <div class="tab" data-tab="ai-solver">AIè§£é¢˜</div>
                </div>

                <div class="tab-content active" id="guide-content">
                    <div class="guide-content">
                        <div class="guide-section">
                            <h4>ç³»ç»Ÿæ¦‚è¿°</h4>
                            <p>ACESç³»ç»Ÿæ˜¯ä¸€ä¸ªä¿¡æ¯å­¦ç«èµ›ä¸‡èƒ½å¼•æ“ï¼ŒåŒ…å«è¾“å…¥å±‚ã€ACESæ ¸å¿ƒå¼•æ“ã€ç®—æ³•åº“å’Œè¾“å‡ºéªŒè¯å››ä¸ªä¸»è¦éƒ¨åˆ†ã€‚</p>
                        </div>
                        <!-- æ›´å¤šæŒ‡å—å†…å®¹... -->
                    </div>
                </div>

                <div class="tab-content" id="mindmap-content">
                    <div id="mindmap-container">
                        <p>æ€ç»´å¯¼å›¾å¯è§†åŒ–åŒºåŸŸ</p>
                    </div>
                </div>

                <div class="tab-content" id="ai-solver-content">
                    <h4>AIè§£é¢˜åŠ©æ‰‹</h4>
                    <div class="form-group">
                        <label for="problem-input">è¾“å…¥é—®é¢˜æè¿°:</label>
                        <textarea id="problem-input" placeholder="æè¿°æ‚¨è¦è§£å†³çš„é—®é¢˜..."></textarea>
                        <button id="solve-problem" class="debug-btn">ä½¿ç”¨ACESè§£é¢˜</button>
                    </div>
                    <div id="ai-solution">
                        <h4>ACESè§£é¢˜æ­¥éª¤:</h4>
                        <div id="solution-steps" class="code-block"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="sidebar-right">
            <div class="card">
                <h3><i class="fas fa-info-circle"></i> ç»„ä»¶ä¿¡æ¯</h3>
                <div id="component-info">
                    <p>ç‚¹å‡»å·¦ä¾§ç»„ä»¶æˆ–æµç¨‹å›¾èŠ‚ç‚¹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-book"></i> C++ çŸ¥è¯†ç‚¹å†…å®¹</h3>
                <div id="chapter-content" class="chapter-content">
                    <p>ç‚¹å‡»å·¦ä¾§ç« èŠ‚æŸ¥çœ‹è¯¦ç»†å†…å®¹</p>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-book"></i> è§„åˆ™åº“</h3>
                <div class="rule-content">
                    <h4>Cç³»åˆ— - æ ¸å¿ƒç»„ä»¶</h4>
                    <ul>
                        <li>C1. ç®—æ³•å¯è¡Œæ€§è¯„ä¼°ï¼šä»»ä½•ç®—æ³•å¿…é¡»åœ¨æœ‰é™æ—¶é—´å’Œç©ºé—´å†…ç»ˆæ­¢ã€‚</li>
                        <!-- æ›´å¤šè§„åˆ™... -->
                    </ul>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-chart-bar"></i> ç®—æ³•æ€§èƒ½</h3>
                <div id="performance-chart">
                    <!-- æ€§èƒ½å›¾è¡¨ -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ä¿®æ”¹ dashboard.html ä¸­çš„è„šæœ¬éƒ¨åˆ† -->
<script>
// ä»ªè¡¨æ¿ç‰¹å®šçš„åˆå§‹åŒ–ä»£ç 
document.addEventListener('DOMContentLoaded', async () => {
    console.log('Dashboard åˆå§‹åŒ–');

    // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
    setupDashboardEvents();

    // åˆå§‹åŒ–æ ‡ç­¾é¡µ
    switchTab('guide');
});

function setupDashboardEvents() {
    // å¯¼èˆªé“¾æ¥
    document.querySelectorAll('.component-list li').forEach(item => {
        item.addEventListener('click', () => {
            const url = item.getAttribute('data-url');
            console.log('å¯¼èˆªåˆ°:', url);
            if (url && window.ACES_APP && window.ACES_APP.router) {
                window.ACES_APP.router.navigate(url);
            } else {
                // åå¤‡å¯¼èˆª
                window.location.hash = url;
                alert('åŠŸèƒ½å¼€å‘ä¸­: ' + url);
            }
        });
    });

    // ç« èŠ‚ç‚¹å‡»äº‹ä»¶
    document.querySelectorAll('.chapter-item').forEach(item => {
        item.addEventListener('click', () => {
            const chapter = item.getAttribute('data-chapter');
            showChapterContent(chapter);
        });
    });

    // ç®—æ³•ç‚¹å‡»äº‹ä»¶
    document.querySelectorAll('.algorithm-item').forEach(item => {
        item.addEventListener('click', () => {
            const algo = item.getAttribute('data-algo');
            showAlgorithmDetails(algo);
        });
    });

    // æ ‡ç­¾é¡µåˆ‡æ¢
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
            const tabId = tab.getAttribute('data-tab');
            switchTab(tabId);
        });
    });

    // AI è§£é¢˜æŒ‰é’®
    const solveBtn = document.getElementById('solve-problem');
    if (solveBtn) {
        solveBtn.addEventListener('click', solveWithAI);
    }
}

function switchTab(tabId) {
    // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
    document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
    });

    // ç§»é™¤æ‰€æœ‰æ ‡ç­¾æ¿€æ´»çŠ¶æ€
    document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
    });

    // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾å†…å®¹
    const targetContent = document.getElementById(`${tabId}-content`);
    const targetTab = document.querySelector(`.tab[data-tab="${tabId}"]`);

    if (targetContent) targetContent.classList.add('active');
    if (targetTab) targetTab.classList.add('active');
}

function showChapterContent(chapter) {
    const contentDiv = document.getElementById('chapter-content');
    if (contentDiv) {
        contentDiv.innerHTML = `
            <h4>ç¬¬ ${chapter} ç« å†…å®¹</h4>
            <p>è¿™é‡Œæ˜¯ç¬¬ ${chapter} ç« çš„è¯¦ç»†å†…å®¹...</p>
            <div class="code-block">
                // ç¤ºä¾‹ä»£ç 
                #include &lt;iostream&gt;
                using namespace std;

                int main() {
                    cout << "ç¬¬ ${chapter} ç« ç¤ºä¾‹" << endl;
                    return 0;
                }
            </div>
        `;
    }
}

function showAlgorithmDetails(algo) {
    const infoDiv = document.getElementById('component-info');
    if (infoDiv) {
        const algoInfo = {
            'DFS': 'æ·±åº¦ä¼˜å…ˆæœç´¢ - ç”¨äºéå†æˆ–æœç´¢æ ‘æˆ–å›¾çš„ç®—æ³•',
            'BFS': 'å¹¿åº¦ä¼˜å…ˆæœç´¢ - å±‚å±‚æ‰©å±•çš„æœç´¢ç®—æ³•',
            'DP': 'åŠ¨æ€è§„åˆ’ - é€šè¿‡æŠŠåŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•'
        };

        infoDiv.innerHTML = `
            <h4>${algo} ç®—æ³•</h4>
            <p>${algoInfo[algo] || 'ç®—æ³•è¯¦ç»†ä¿¡æ¯'}</p>
            <button class="debug-btn" onclick="ACES_APP.router.navigate('/algorithms')">å­¦ä¹ æ›´å¤š</button>
        `;
    }
}

function solveWithAI() {
    const problemInput = document.getElementById('problem-input');
    const solutionDiv = document.getElementById('solution-steps');

    if (problemInput && solutionDiv) {
        const problem = problemInput.value.trim();
        if (!problem) {
            alert('è¯·è¾“å…¥é—®é¢˜æè¿°');
            return;
        }

        solutionDiv.innerHTML = `
            <p>ğŸ¤– ACES æ­£åœ¨åˆ†æé—®é¢˜...</p>
            <p>é—®é¢˜: ${problem}</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 70%"></div>
            </div>
            <p>è§£é¢˜æ­¥éª¤ç”Ÿæˆä¸­...</p>
        `;

        // æ¨¡æ‹Ÿ AI è§£é¢˜è¿‡ç¨‹
        setTimeout(() => {
            solutionDiv.innerHTML = `
                <h5>ACES è§£é¢˜æ–¹æ¡ˆ:</h5>
                <ol>
                    <li>åˆ†æé—®é¢˜ç±»å‹: æœç´¢/åŠ¨æ€è§„åˆ’</li>
                    <li>é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„</li>
                    <li>è®¾è®¡ç®—æ³•æµç¨‹</li>
                    <li>å¤æ‚åº¦åˆ†æ: O(n)</li>
                    <li>ç¼–å†™ä»£ç å®ç°</li>
                </ol>
                <div class="code-block">
// ACES ç”Ÿæˆçš„ä»£ç 
#include &lt;iostream&gt;
using namespace std;

int main() {
    // è§£å†³æ–¹æ¡ˆä»£ç 
    cout << "é—®é¢˜å·²è§£å†³!" << endl;
    return 0;
}
                </div>
            `;
        }, 2000);
    }
}
</script>