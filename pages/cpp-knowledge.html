<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ çŸ¥è¯†ç‚¹ - ACES ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <style>
        .chapter-tree {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .chapter-item {
            margin: 10px 0;
            padding: 15px;
            border-left: 4px solid #3498db;
            background: #f8f9fa;
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chapter-item:hover {
            background: #e3f2fd;
            transform: translateX(5px);
        }

        .chapter-item.active {
            background: #3498db;
            color: white;
        }

        .content-area {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-height: 600px;
        }

        .code-example {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
        }

        .example-tabs {
            display: flex;
            border-bottom: 1px solid #444;
            margin-bottom: 15px;
        }

        .example-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }

        .example-tab.active {
            border-bottom-color: #3498db;
            color: #3498db;
        }

        .quiz-section {
            background: #e8f4fd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .quiz-question {
            font-weight: bold;
            margin-bottom: 15px;
        }

        .quiz-options {
            list-style: none;
            padding: 0;
        }

        .quiz-option {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .quiz-option:hover {
            background: #d4edda;
        }

        .progress-tracker {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .progress-item {
            text-align: center;
            flex: 1;
        }

        .progress-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            transition: all 0.3s;
        }

        .progress-item.completed .progress-circle {
            background: #28a745;
            color: white;
        }

        .progress-item.current .progress-circle {
            background: #007bff;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="page-header">
            <h1><i class="fas fa-code"></i> C++ ç¼–ç¨‹çŸ¥è¯†ä½“ç³»</h1>
            <p class="subtitle">ä»åŸºç¡€åˆ°é«˜çº§çš„å®Œæ•´ C++ å­¦ä¹ è·¯å¾„</p>
        </div>

        <div class="main-content" style="display: grid; grid-template-columns: 300px 1fr; gap: 20px;">
            <!-- å·¦ä¾§å¯¼èˆª -->
            <div class="sidebar-left">
                <div class="chapter-tree">
                    <h3><i class="fas fa-book"></i> ç« èŠ‚åˆ—è¡¨</h3>
                    <div id="chapters-list">
                        <!-- ç« èŠ‚å°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <div class="card">
                    <h3><i class="fas fa-chart-line"></i> å­¦ä¹ è¿›åº¦</h3>
                    <div class="progress-tracker" id="progress-tracker">
                        <!-- è¿›åº¦è·Ÿè¸ªå™¨å°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <div class="card">
                    <h3><i class="fas fa-search"></i> å¿«é€Ÿæœç´¢</h3>
                    <input type="text" id="search-cpp" placeholder="æœç´¢çŸ¥è¯†ç‚¹..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                </div>
            </div>

            <!-- å³ä¾§å†…å®¹ -->
            <div class="content-area">
                <div id="content-placeholder">
                    <div style="text-align: center; padding: 100px 20px;">
                        <i class="fas fa-book-open fa-3x" style="color: #3498db; margin-bottom: 20px;"></i>
                        <h2>é€‰æ‹©å·¦ä¾§ç« èŠ‚å¼€å§‹å­¦ä¹ </h2>
                        <p>ç‚¹å‡»ç« èŠ‚æ ‡é¢˜æŸ¥çœ‹è¯¦ç»†å†…å®¹å’Œä»£ç ç¤ºä¾‹</p>
                    </div>
                </div>

                <div id="chapter-content" style="display: none;">
                    <div class="chapter-header">
                        <h2 id="chapter-title">ç« èŠ‚æ ‡é¢˜</h2>
                        <div class="chapter-meta">
                            <span id="chapter-difficulty" class="difficulty-badge">åˆçº§</span>
                            <span id="chapter-duration">é¢„è®¡å­¦ä¹ æ—¶é—´: 30åˆ†é’Ÿ</span>
                        </div>
                    </div>

                    <div class="chapter-body">
                        <div id="chapter-description">
                            <!-- ç« èŠ‚æè¿°å†…å®¹ -->
                        </div>

                        <div class="example-section">
                            <h3><i class="fas fa-code"></i> ä»£ç ç¤ºä¾‹</h3>
                            <div class="example-tabs" id="example-tabs">
                                <!-- ç¤ºä¾‹æ ‡ç­¾é¡µ -->
                            </div>
                            <div class="code-example" id="code-example">
                                <!-- ä»£ç ç¤ºä¾‹ -->
                            </div>
                        </div>

                        <div class="quiz-section" id="quiz-section">
                            <h3><i class="fas fa-question-circle"></i> çŸ¥è¯†æ£€æµ‹</h3>
                            <div class="quiz-question" id="quiz-question">
                                <!-- é—®é¢˜å†…å®¹ -->
                            </div>
                            <ul class="quiz-options" id="quiz-options">
                                <!-- é€‰é¡¹åˆ—è¡¨ -->
                            </ul>
                            <button id="check-answer" class="debug-btn" style="margin-top: 15px;">æ£€æŸ¥ç­”æ¡ˆ</button>
                        </div>

                        <div class="navigation-buttons" style="display: flex; justify-content: space-between; margin-top: 30px;">
                            <button id="prev-chapter" class="debug-btn">
                                <i class="fas fa-arrow-left"></i> ä¸Šä¸€ç« 
                            </button>
                            <button id="mark-complete" class="debug-btn" style="background: #28a745;">
                                <i class="fas fa-check"></i> æ ‡è®°å®Œæˆ
                            </button>
                            <button id="next-chapter" class="debug-btn">
                                ä¸‹ä¸€ç«  <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script>
        // C++ çŸ¥è¯†ç‚¹æ•°æ®
        const cppKnowledgeData = {
            chapters: {
                "ç¬¬1ç«  é¢„å¤‡çŸ¥è¯†": {
                    difficulty: "åˆçº§",
                    duration: "20åˆ†é’Ÿ",
                    description: "æœ¬ç« ä»‹ç»C++çš„åŸºæœ¬æ¦‚å¿µå’Œå‘å±•å†å²ï¼Œä¸ºåç»­å­¦ä¹ æ‰“ä¸‹åŸºç¡€ã€‚",
                    sections: [
                        {
                            title: "1.1 C++ ç®€ä»‹",
                            content: "C++æ˜¯ä¸€ç§é€šç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ”¯æŒè¿‡ç¨‹åŒ–ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œæ³›å‹ç¼–ç¨‹ã€‚",
                            examples: {
                                "åŸºç¡€ç¤ºä¾‹": `#include <iostream>
using namespace std;

int main() {
    cout << "Hello, C++ World!" << endl;
    return 0;
}`,
                                "å†å²èƒŒæ™¯": `// C++ ç”± Bjarne Stroustrup äº1979å¹´åœ¨è´å°”å®éªŒå®¤å¼€å§‹å¼€å‘
// æœ€åˆç§°ä¸º "C with Classes"ï¼Œ1983å¹´æ›´åä¸º C++
// ç°åœ¨å·²æˆä¸ºæœ€æµè¡Œçš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€`
                            },
                            quiz: {
                                question: "C++ æœ€åˆè¢«ç§°ä¸ºä»€ä¹ˆï¼Ÿ",
                                options: ["C with Objects", "C with Classes", "C Plus", "Enhanced C"],
                                answer: 1
                            }
                        },
                        {
                            title: "1.2 C++ å‘å±•å†å²",
                            content: "äº†è§£C++çš„å‘å±•å†ç¨‹å’Œé‡è¦ç‰ˆæœ¬æ›´æ–°ã€‚",
                            examples: {
                                "ç‰ˆæœ¬å†å²": `ä¸»è¦ç‰ˆæœ¬:
- 1985: C++ 1.0
- 1998: C++98 (ç¬¬ä¸€ä¸ªå›½é™…æ ‡å‡†)
- 2003: C++03
- 2011: C++11 (é‡å¤§æ›´æ–°)
- 2014: C++14
- 2017: C++17
- 2020: C++20`
                            },
                            quiz: {
                                question: "C++çš„ç¬¬ä¸€ä¸ªå›½é™…æ ‡å‡†æ˜¯å“ªä¸€å¹´å‘å¸ƒçš„ï¼Ÿ",
                                options: ["1985", "1998", "2003", "2011"],
                                answer: 1
                            }
                        }
                    ]
                },
                "ç¬¬2ç«  å¼€å§‹å­¦ä¹  C++": {
                    difficulty: "åˆçº§",
                    duration: "30åˆ†é’Ÿ",
                    description: "å­¦ä¹ C++çš„åŸºæœ¬è¯­æ³•å’Œç¨‹åºç»“æ„ã€‚",
                    sections: [
                        {
                            title: "2.1 è¿›å…¥ C++ ä¸–ç•Œ",
                            content: "å­¦ä¹ ç¬¬ä¸€ä¸ªC++ç¨‹åºçš„åŸºæœ¬ç»“æ„ã€‚",
                            examples: {
                                "Hello World": `#include <iostream>
using namespace std;

int main() {
    cout << "Hello, World!" << endl;
    return 0;
}`,
                                "æ³¨é‡Šä½¿ç”¨": `// è¿™æ˜¯å•è¡Œæ³¨é‡Š

/*
   è¿™æ˜¯å¤šè¡Œæ³¨é‡Š
   å¯ä»¥è·¨è¶Šå¤šè¡Œ
*/`
                            },
                            quiz: {
                                question: "åœ¨C++ä¸­ï¼Œç”¨äºè¾“å‡ºçš„å…³é”®å­—æ˜¯ä»€ä¹ˆï¼Ÿ",
                                options: ["print", "cout", "printf", "output"],
                                answer: 1
                            }
                        }
                    ]
                }
                // æ›´å¤šç« èŠ‚æ•°æ®...
            },
            userProgress: {
                "ç¬¬1ç«  é¢„å¤‡çŸ¥è¯†": { completed: true, score: 85 },
                "ç¬¬2ç«  å¼€å§‹å­¦ä¹  C++": { completed: false, score: 0 }
            }
        };

        class CppKnowledgeManager {
            constructor() {
                this.currentChapter = null;
                this.currentSection = 0;
                this.userProgress = cppKnowledgeData.userProgress;
                this.init();
            }

            init() {
                this.renderChaptersList();
                this.setupEventListeners();
                this.loadUserProgress();
            }

            renderChaptersList() {
                const chaptersList = document.getElementById('chapters-list');
                const progressTracker = document.getElementById('progress-tracker');

                let chaptersHTML = '';
                let progressHTML = '';
                let chapterIndex = 0;

                Object.keys(cppKnowledgeData.chapters).forEach(chapterTitle => {
                    const chapter = cppKnowledgeData.chapters[chapterTitle];
                    const progress = this.userProgress[chapterTitle];
                    const isCompleted = progress && progress.completed;
                    const isCurrent = !this.currentChapter && chapterIndex === 0;

                    chaptersHTML += `
                        <div class="chapter-item ${isCurrent ? 'active' : ''}"
                             data-chapter="${chapterTitle}">
                            <div style="font-weight: bold;">${chapterTitle}</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                                <span class="difficulty-badge">${chapter.difficulty}</span>
                                ${isCompleted ? '<i class="fas fa-check" style="color: #28a745; margin-left: 10px;"></i>' : ''}
                            </div>
                        </div>
                    `;

                    progressHTML += `
                        <div class="progress-item ${isCompleted ? 'completed' : ''} ${isCurrent ? 'current' : ''}">
                            <div class="progress-circle">
                                ${isCompleted ? '<i class="fas fa-check"></i>' : chapterIndex + 1}
                            </div>
                            <div style="font-size: 0.8em;">ç¬¬${chapterIndex + 1}ç« </div>
                        </div>
                    `;

                    chapterIndex++;
                });

                chaptersList.innerHTML = chaptersHTML;
                progressTracker.innerHTML = progressHTML;
            }

            setupEventListeners() {
                // ç« èŠ‚ç‚¹å‡»äº‹ä»¶
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.chapter-item')) {
                        const chapterItem = e.target.closest('.chapter-item');
                        const chapterTitle = chapterItem.dataset.chapter;
                        this.loadChapter(chapterTitle);
                    }
                });

                // å¯¼èˆªæŒ‰é’®
                document.getElementById('prev-chapter')?.addEventListener('click', () => this.prevChapter());
                document.getElementById('next-chapter')?.addEventListener('click', () => this.nextChapter());
                document.getElementById('mark-complete')?.addEventListener('click', () => this.markComplete());

                // æœç´¢åŠŸèƒ½
                document.getElementById('search-cpp')?.addEventListener('input', (e) => {
                    this.searchContent(e.target.value);
                });

                // æ£€æŸ¥ç­”æ¡ˆ
                document.getElementById('check-answer')?.addEventListener('click', () => {
                    this.checkAnswer();
                });
            }

            loadChapter(chapterTitle) {
                this.currentChapter = chapterTitle;
                this.currentSection = 0;

                const chapter = cppKnowledgeData.chapters[chapterTitle];
                if (!chapter) return;

                // æ›´æ–°æ´»åŠ¨çŠ¶æ€
                document.querySelectorAll('.chapter-item').forEach(item => {
                    item.classList.remove('active');
                });
                document.querySelector(`.chapter-item[data-chapter="${chapterTitle}"]`).classList.add('active');

                // æ˜¾ç¤ºå†…å®¹åŒºåŸŸ
                document.getElementById('content-placeholder').style.display = 'none';
                document.getElementById('chapter-content').style.display = 'block';

                // æ›´æ–°ç« èŠ‚æ ‡é¢˜å’Œå…ƒæ•°æ®
                document.getElementById('chapter-title').textContent = chapterTitle;
                document.getElementById('chapter-difficulty').textContent = chapter.difficulty;
                document.getElementById('chapter-duration').textContent = `é¢„è®¡å­¦ä¹ æ—¶é—´: ${chapter.duration}`;

                // åŠ è½½ç¬¬ä¸€ä¸ªç« èŠ‚å†…å®¹
                this.loadSection(0);
            }

            loadSection(sectionIndex) {
                const chapter = cppKnowledgeData.chapters[this.currentChapter];
                if (!chapter || !chapter.sections[sectionIndex]) return;

                this.currentSection = sectionIndex;
                const section = chapter.sections[sectionIndex];

                // æ›´æ–°æè¿°å†…å®¹
                document.getElementById('chapter-description').innerHTML = `
                    <h3>${section.title}</h3>
                    <p>${section.content}</p>
                `;

                // æ›´æ–°ä»£ç ç¤ºä¾‹
                this.renderExamples(section.examples);

                // æ›´æ–°æµ‹éªŒ
                this.renderQuiz(section.quiz);
            }

            renderExamples(examples) {
                const exampleTabs = document.getElementById('example-tabs');
                const codeExample = document.getElementById('code-example');

                let tabsHTML = '';
                let firstExample = true;

                Object.keys(examples).forEach((exampleName, index) => {
                    tabsHTML += `
                        <div class="example-tab ${firstExample ? 'active' : ''}"
                             data-example="${index}">
                            ${exampleName}
                        </div>
                    `;
                    firstExample = false;
                });

                exampleTabs.innerHTML = tabsHTML;
                codeExample.textContent = examples[Object.keys(examples)[0]];

                // æ ‡ç­¾é¡µç‚¹å‡»äº‹ä»¶
                exampleTabs.querySelectorAll('.example-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        exampleTabs.querySelectorAll('.example-tab').forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');

                        const exampleIndex = parseInt(tab.dataset.example);
                        const exampleKey = Object.keys(examples)[exampleIndex];
                        codeExample.textContent = examples[exampleKey];
                    });
                });
            }

            renderQuiz(quiz) {
                if (!quiz) {
                    document.getElementById('quiz-section').style.display = 'none';
                    return;
                }

                document.getElementById('quiz-section').style.display = 'block';
                document.getElementById('quiz-question').textContent = quiz.question;

                const optionsHTML = quiz.options.map((option, index) => `
                    <li class="quiz-option" data-option="${index}">
                        ${String.fromCharCode(65 + index)}. ${option}
                    </li>
                `).join('');

                document.getElementById('quiz-options').innerHTML = optionsHTML;

                // é€‰é¡¹ç‚¹å‡»äº‹ä»¶
                document.getElementById('quiz-options').querySelectorAll('.quiz-option').forEach(option => {
                    option.addEventListener('click', () => {
                        document.querySelectorAll('.quiz-option').forEach(opt => {
                            opt.style.background = 'white';
                        });
                        option.style.background = '#d4edda';
                    });
                });
            }

            checkAnswer() {
                const selectedOption = document.querySelector('.quiz-option[style*="background: rgb(212, 237, 218)"]');
                if (!selectedOption) {
                    alert('è¯·é€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                    return;
                }

                const selectedIndex = parseInt(selectedOption.dataset.option);
                const quiz = cppKnowledgeData.chapters[this.currentChapter].sections[this.currentSection].quiz;

                if (selectedIndex === quiz.answer) {
                    alert('âœ… å›ç­”æ­£ç¡®ï¼');
                } else {
                    alert('âŒ å›ç­”é”™è¯¯ï¼Œè¯·å†è¯•ä¸€æ¬¡ï¼');
                }
            }

            prevChapter() {
                // å®ç°ä¸Šä¸€ç« é€»è¾‘
                console.log('ä¸Šä¸€ç« ');
            }

            nextChapter() {
                // å®ç°ä¸‹ä¸€ç« é€»è¾‘
                console.log('ä¸‹ä¸€ç« ');
            }

            markComplete() {
                if (!this.currentChapter) return;

                this.userProgress[this.currentChapter] = {
                    completed: true,
                    score: 100
                };

                this.saveUserProgress();
                this.renderChaptersList();

                alert('ğŸ‰ ç« èŠ‚æ ‡è®°å®Œæˆï¼');
            }

            searchContent(query) {
                if (!query.trim()) {
                    this.renderChaptersList();
                    return;
                }

                const filteredChapters = Object.keys(cppKnowledgeData.chapters).filter(chapterTitle => {
                    const chapter = cppKnowledgeData.chapters[chapterTitle];
                    return chapterTitle.toLowerCase().includes(query.toLowerCase()) ||
                           chapter.description.toLowerCase().includes(query.toLowerCase());
                });

                const chaptersList = document.getElementById('chapters-list');
                let chaptersHTML = '';

                filteredChapters.forEach(chapterTitle => {
                    const chapter = cppKnowledgeData.chapters[chapterTitle];
                    const progress = this.userProgress[chapterTitle];
                    const isCompleted = progress && progress.completed;

                    chaptersHTML += `
                        <div class="chapter-item" data-chapter="${chapterTitle}">
                            <div style="font-weight: bold;">${chapterTitle}</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
                                <span class="difficulty-badge">${chapter.difficulty}</span>
                                ${isCompleted ? '<i class="fas fa-check" style="color: #28a745; margin-left: 10px;"></i>' : ''}
                            </div>
                        </div>
                    `;
                });

                chaptersList.innerHTML = chaptersHTML || '<div style="padding: 20px; text-align: center; color: #666;">æœªæ‰¾åˆ°ç›¸å…³ç« èŠ‚</div>';
            }

            loadUserProgress() {
                const saved = localStorage.getItem('aces_cpp_progress');
                if (saved) {
                    this.userProgress = { ...this.userProgress, ...JSON.parse(saved) };
                }
            }

            saveUserProgress() {
                localStorage.setItem('aces_cpp_progress', JSON.stringify(this.userProgress));
            }
        }

        // åˆå§‹åŒ–ç®¡ç†å™¨
        document.addEventListener('DOMContentLoaded', () => {
            new CppKnowledgeManager();
        });
    </script>
</body>
</html>